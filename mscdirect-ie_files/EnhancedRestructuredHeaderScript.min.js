$("form.quickOrderPad div.row.quickOrderItemLookAhead").each(function(){attachQuickOrderTypeAhead(this)});$("form.quickOrderPad").each(function(){attachQuickOrderSubmit(this)});$(document).ready(function(){TypeAhead($("#siteSearchInput"),$("#SearchTypeAhead"),false,2,function(a){var b,c;if(a.url.indexOf("?")>-1){b="&"}else{b="?"}updateSearchTermCookie(a.display,true);c=a.url+b+"searchAhead=true&searchAheadTerm="+encodeURIComponent($.trim($("#siteSearchInput").val()))+"&typahddsp="+encodeURIComponent(a.display)+"&hdrsrh=true";forward(c)});MSCJS.Navigation();MSCJS.loginModal();$(".tabs").each(function(){$(this).atabs({mode:"tabs",defaultTab:1})});$(".quickOrder > a, .quickOrder .close").click(function(d){d.preventDefault();var a=$(this);var b=$(this).parents(".quickOrder");var c=b.find(".quickOrderForm");if(c.hasClass("visuallyhidden")){b.addClass("active");a.attr("style","display: inline-block; width: 180px;");a.css("cursor","default");c.removeClass("visuallyhidden");$("#qop").removeClass("visuallyhidden")}});setTimeoutCookie("sessionTimeLimit",11+59/60)});$("input.mockPassword").each(function(){$(this).focus(function(){realPassword=$(this).parent().find("input.realPassword");$(this).hide();realPassword.show();realPassword.focus()})});$("input.realPassword").each(function(){$(this).blur(function(){if($(this).val()===""){mockPassword=$(this).parent().find("input.mockPassword");$(this).hide();mockPassword.show()}})});function validateSearchForm(c){var a=$('button[type="submit"]#goButton',c);if(validateSearch()){var b=($.trim($("#siteSearchInput",c).val()));a.attr("disabled","disabled");if(b.match(/page\s*\d+\s*$/i)){document.searchForm.action="/FlyerView";$("#pageLabelInputHidden",c).val($.trim(b.substring(4)));$("#contentPathInputHidden",c).val("/sales-catalogs/big-book")}else{$("#siteSearchInputHidden",c).val(b);$("#pageLabelInputHidden",c).attr("disabled","disabled");$("#contentPathInputHidden",c).attr("disabled","disabled")}updateSearchTermCookie(b,false)}else{a.removeAttr("disabled");return false}}function setTimeoutCookie(d,b){var c=new Date();c.setTime(c.getTime()+(b*60*60*1000));var a="; expires="+c.toGMTString();document.cookie=d+"="+c.toGMTString()+a+"; path=/;secure"}function validateSearch(){var b=$("#siteSearchInput"),a=$.trim(b.val());if(a===""||a==="By Keyword, Part #, Mfr #, Competitor part #, Customer part #"){$("#searchValueRequiredModal").modal();b.focus();return false}return true}$("#addLineButton").click(function(){var d=$("#addLineCount").val();d=parseInt(d)+1;$("#addLineCount").val(d);$("#addLineButton").attr("disabled","disabled");var b="addLineCount="+d;var c=addMoreLineToQOP(d);$("#addLine").before(c);var e=$("#HeaderQuickOrder div#addLine .quickOrderItem");var a;if(null!==e){a=e.length}if(a>=1){attachQuickOrderTypeAhead(e[a-1])}$("#addLineButton").removeAttr("disabled");$("#userEnteredPartnumber"+d).watermark("watermark",$("#userEnteredPartnumber"+d).attr("title"));$("#quantity"+d).watermark("watermark",$("#quantity"+d).attr("title"));if(d>=5){$("#addLineButton").attr("disabled","disabled");$("#addLineButton").removeClass("buttonRed");$("#addLineButton").addClass("buttonGray")}});function addMoreLineToQOP(b){var a="";a='<input type="hidden" name="pattrName_'+b+'" value="orderSource" /><input type="hidden" name="pattrValue_'+b+'" value="MO" /><div class="row"><div class="col-sm-9"><input type="text" id="userEnteredPartnumber'+b+'" name="userEnteredPartnumber_'+b+'" class="qop-part itemNumber" title="Part #" autocomplete="off" /> </div><div class="col-sm-3"><input type="text" id="quantity'+b+'" name="quantity_'+b+'" class="qop-qty" maxlength="5" title="Qty" autocomplete="off" onkeypress="javascript:return isNumberKey(event);" /></div></div>';return a}$("#qop").click(function(){var a=$(this).parents(".quickOrder");var b=a.find(".quickOrderForm");$("#HeaderQuickOrder").addClass("shadow");$("#HeaderQuickOrder").removeClass("active");b.addClass("visuallyhidden");$("#qop").addClass("visuallyhidden");$("#quickOrderLink").css("display","block");$("#quickOrderLink").css("width","auto");$("#quickOrderLink").css("cursor","pointer")});var validRow=[];var qtyErr=false;var parametersLOPCartAPI;function loadLargeOrderPad(){var g=$("#addLineCount").val();$("#QuickOrderPadAddItemsErrorDiv, #QuickOrderPadAddItemsQtyErrorDiv").addClass("hidden");var a="";var c=0;for(var d=1;d<=g;d++){var f=$('input[name="quantity_'+d+'"]',$(this));var b=$('input[name="userEnteredPartnumber_'+d+'"]').val();var e=$('input[name="quantity_'+d+'"]').val();if(b!=="Part #"){b=b.replace(" ","");c++;validateQty(f,d);if(e==="Qty"){e="1"}if(a===""){a="pNum_"+d+"="+encodeURIComponent(b)+"+"+encodeURIComponent(e)}else{a=a+"&pNum_"+d+"="+encodeURIComponent(b)+"+"+encodeURIComponent(e)}}}if(a===""){a="totalCount="+g}else{a=a+"&totalCount="+c}if((document.getElementById("isPunchOutView").value)==="true"){window.location.href="/MSCPunchOutLargeOrderPadView?"+a}else{window.location.href="/LargeOrderPadView?"+a}}function handleEnter(b,c){var a;if(c&&c.which){a=c.which}else{if(window.event){c=window.event;a=c.keyCode}}if(a===13){validateQOPField()}}function validateQOPField(){var d=$("#addLineCount").val();for(var b=1;b<=d;b++){validRow[b]=false}$("#QuickOrderPadAddItemsErrorDiv, #QuickOrderPadAddItemsQtyErrorDiv").addClass("hidden");for(var b=1;b<=d;b++){var a=$('input[name="userEnteredPartnumber_'+b+'"]',$(this));var c=$('input[name="quantity_'+b+'"]',$(this));validateRowQOP(a,c,b)}rowValid=validRow[1];if(rowValid){$("#cartAPIIdRPH").click();return true}else{if(qtyErr){$("#QuickOrderPadAddItemsQtyErrorDiv").removeClass("hidden")}else{$("#QuickOrderPadAddItemsErrorDiv").removeClass("hidden")}return false}}function validateRowQOP(a,c,d){var b=$("#userEnteredPartnumber"+d).val();if($("#userEnteredPartnumber"+d).val()===a.attr("title")&&$("#quantity"+d).val()===c.attr("title")){validRow[d]=true}else{if($.trim($("#userEnteredPartnumber"+d).val())!==""&&$("#userEnteredPartnumber"+d).val()!==a.attr("title")){validateQtyQOP(c,d)}else{qtyErr=true;validRow[d]=false}}}function validateQtyQOP(b,d){var a=/^[1-9][0-9]*$/;var c=$("#quantity"+d).val();if(a.test(c)){validRow[d]=true}else{if($("#quantity"+d).val()==="Qty"){if($.trim($("#userEnteredPartnumber"+d).val())!==""&&$("#userEnteredPartnumber"+d).val()!=="Part #"){if($("#quantity"+d).val()===""){$("#quantity"+d).attr("value","1")}}validRow[d]=true}else{qtyErr=true;validRow[d]=false}}}function isNumberKeyQOP(c,b){var a=(b.which)?b.which:b.keyCode;var d=false;if(b.ctrlKey){return true}if((a>31&&a<=45)||a>57||a===13){var e=$("#"+c.id).val();if(e===""){$("#QuickOrderPadAddItemsQtyErrorDiv").removeClass("hidden")}else{$("#cartAPIIdRPH").click();return true}return false}return true}function updateSearchTermCookie(a,c){if("undefined"!==a&&"null"!==a){if(c&&c==="true"){var b=new RegExp("^[-]?[0-9]+[.]?[0-9]+$");var d=/[0-9]$/;if(b.test(a)||d.test(a)){document.cookie="SearchTerm=;expires="+new Date(0).toUTCString()+";path=/;secure";document.cookie="SearchTermEncoded=;expires="+new Date(0).toUTCString()+";path=/;secure";return}}var e=getCookieValue("SearchTerm");if(a===e){return}document.cookie="SearchTerm="+a+";path=/;secure";document.cookie="SearchTermEncoded="+encodeURIComponent(a)+";path=/;secure"}}function isQtyValidLookAhead(c){var d=false;if(c!=="undefined"&&c){var b=c.value;if(b!==undefined&&!(parseFloat(b)>0)){var a='<span id="errQtyMsg" style="display:block;">Invalid Quantity</span>';$("span#errQtyMsg").remove();$(c).after(a);d=false}else{$("span#errQtyMsg").remove();d=true}}return d}function islengthValidLookAhead(c){var d=false;if(c!=="undefined"&&c){var b=c.value;if(b!==undefined&&!(parseFloat(b)>0)){var a='<span id="errlnthMsg" style="display:block;">Invalid Length</span>';$("span#errlnthMsg").remove();$(c).next().after(a);d=false}else{$("span#errlnthMsg").remove();d=true}}return d}function prepareFormPDPLookAhead(d,c){if(isQtyValidLookAhead(d.quantity_1)){$('button[type="submit"].buttonRed',d).attr("disabled","disabled");var a="orderId=.&URL=RestructuredMiniCartContentsView&storeId="+d.storeId.value+"&catalogId="+d.catalogId.value+"&langId="+d.langId.value+"&partNumber_1="+d.partNumber.value+"&description_1="+d.pxno.value+"&altDesc="+d.pxno.value+"&quantity_1="+d.quantity_1.value+"&searchResults=Y&pattrName_1=orderSource&pattrValue_1=SR";if(d.field1_1){a+="&field1_1="+d.field1_1.value}if(d.orderedAs){a+="&pattrName_1=orderedAs&pattrValue_1="+d.orderedAs.value}try{if(c==="true"){resx.event="addtocart_op";resx.itemid=d.partNumber.value;certonaResx.run()}}catch(b){}$.ajax({url:"/OrderItemAdd",data:a,type:"POST",success:function(e){MSCJS.miniCartShow(e,"div_"+d.pxno.value);$("#cartItemCount").html($("#miniCartNumItems_"+d.pxno.value).html());if($("#miniCartNumItems_"+d.pxno.value).html()===1){$("#cartItemMessage").html("item")}else{$("#cartItemMessage").html("items")}if(typeof d!=="undefined"){$('button[type="submit"].buttonRed',d).removeAttr("disabled")}},error:function(){$("#errorModal").modal();if(typeof d!=="undefined"){$('button[type="submit"].buttonRed',d).removeAttr("disabled")}}})}return returnForForm(false)}function addToListLookAhead(f,d,a,e){if(e&&e==="YES"){try{resx.event="wishlist";resx.itemid=f;certonaResx.run()}catch(c){}}if(a&&a!=="undefined"){var b=$("#ajax-modal");a+="&random="+Math.floor((Math.random()*100000)+1);b.load(a,"",function(){b.modal();if(navigator.userAgent.match(/msie [7]/i)){$(".modal-backdrop").css({"z-index":"-1"})}})}}function punchoutAddToListLookAhead(e,a){var d=window.location.href;var c=d.substring(d.indexOf("browse"))+"&addToList=true&count="+e;var b=$("#ajax-modal");b.load(a+"&forward="+escape(c),"",function(){b.modal()})}function isListNameDuplicate(){var g=$("#listDesc").val();var e=false;var a=$("#requisitionListId option:selected").text();if(a==="Create New"){if(g){$("#duplicateListNameError").hide();var b=$("#listNames").val();var f=$.trim($("#listName").val());if(f){if(b){var c=b.split(",");var d;for(i=0;i<c.length;i++){if(f.toUpperCase()===c[i].toUpperCase()){d=true;e=true;break}}if(d===true){$("#duplicateListNameError").show();return e}}return e}else{return e}}}else{return e}}var hideForm=function(){$("#selectListSegment").hide();$("#modalSaveButton").hide();$("#modalCancelButton").html("<span>Close</span>")};var showItemsAdded=function(){$("#itemsAddedSegment").show()};var prepareFormAddToList=function(){var b=document.getElementById("listName").value;var j=document.getElementById("listDesc").value;var f=$("#requisitionListId option:selected").text();$("div.errorMessage").remove();var l=$("#listName");var e=$("#listDesc");var c=$("#requisitionListId option:selected").text();var g=false;var a=validationOnSubmit();if(!a&&!((f!==null||f!=="")&&f!=="Create New")){return false}else{g=true}if(f===null||f===""){var k='<div class="errorMessage">Part number is required field.</div>';f.after(k);f.focus();g=false}if((b!==null&&b!=="")&&(j!==null&&j!=="")&&(f==="Create New")){g=true}if((f!==null||f!=="")&&f!=="Create New"){g=true}var h=isListNameDuplicate();if(g&&!h){$("#modalSaveButton").attr("disabled","disabled");if(formState){document.getElementById("listNameText").innerHTML=$("#requisitionListId option:selected").text();$("#listName").attr("disabled","disabled");$("#listDesc").attr("disabled","disabled");var d=$("#addItemToListForm").serialize();$.ajax({type:"POST",url:"/AjaxRequisitionListItemUpdate",data:d,success:function(o,p,n){hideForm();showItemsAdded()},error:function(n,p,o){}})}else{document.getElementById("listNameText").innerHTML=$("#listName").val();var m=$("#addItemToListForm").serialize();$.ajax({type:"POST",url:"/AjaxRequisitionListCreate",data:m,success:function(q,r,p){var o=q;hideForm();var n=$("#addItemToListForm").serialize();$.ajax({type:"POST",url:"/AjaxRequisitionListItemUpdate?requisitionListId="+o.requisitionListId,data:n,success:function(t,u,s){showItemsAdded()},error:function(s,u,t){$("#errorModal").modal()}})},error:function(n,p,o){}})}}return false};function updateClearAllSections(){$("div.search-and-refine-module, div.search-refine-module-borderless").each(function(b){var a=$(this).find("a.search-refine-check.checked");if(a&&a.length>0){$(this).next("a.clear-all").show()}else{$(this).next("a.clear-all").hide()}var a=$(this).find("a.search-refine-click");var d=false;var c;if(a&&a.length>0){$(a).each(function(){c=$(this).data("selected");if(c&&c==="Y"){d=true}});if(d){$(this).next("a.clear-all").show()}else{$(this).next("a.clear-all").hide()}}})}function makeAjaxCallforAttrVal(b,a,k){appendCurtain();var h=closeAllOpenModals();var d=a;$("#terminalNodeDetails").val(d);try{var f=window.location.href;if(f&&f.indexOf("lh=n")===-1){if(a&&a!==""&&a.indexOf("lh=n")>-1){var j=document.URL.split("?")[1];if(j){j=j.split("#");if(j&&j.length>0){j=j[0]}}if($("#currentCategoryVal_linkWithSEOVal")&&$("#currentCategoryVal_linkWithSEOVal").length>0){$("#currentCategoryVal_linkWithSEOVal").val(j)}else{if($(".col-xs-3.leftnav")&&$(".col-xs-3.leftnav").length>0){$(".col-xs-3.leftnav").append(makeHiddenInput("currentCategoryVal_linkWithSEOVal","currentCategoryVal_linkWithSEOVal",j))}}}}}catch(e){}window.location.hash=a;if(window.location.pathname.indexOf("/browse/tnpla/")>-1){document.cookie="lastBrowseBookmark="+window.location.pathname.replace("/browse/tnpla/","/browse/tn/")+"?"+a+";path=/;secure";document.cookie="lastViewedBeforeLogin="+location.protocol+"//"+window.location.hostname+window.location.pathname.replace("/browse/tnpla/","/browse/tn/")+"?"+a+";path=/;secure"}else{document.cookie="lastBrowseBookmark="+window.location.pathname+"?"+a+";path=/;secure";document.cookie="lastViewedBeforeLogin="+location.protocol+"//"+window.location.hostname+window.location.pathname+"?"+a+";path=/;secure"}var g=$("#forwardURL");if(g){var l="";if(window.location.pathname.indexOf("/browse/tnpla/")>-1){l=window.location.pathname.replace("/browse/tnpla/","/browse/tn/")+"?"+a}else{l=window.location.pathname+"?"+a}$("#forwardURL").attr("value",l);var c=$("#AccountLogin");if(c&&c.length>0){$("#AccountLogin").removeAttr("href");$("#AccountLogin").attr("href","/LogonForm?storeId=10054&catalogId=10001&forward="+encodeURIComponent(l));$("#AccountLogin").removeAttr("data-navigate");$("#AccountLogin").attr("data-navigate","/LogonForm?storeId=10054&catalogId=10001&forward="+encodeURIComponent(l))}}$.ajax({url:"/TerminalNodeAjaxResponseView",data:d,async:true,cache:false,dataType:"html",success:function(q){if(q){var p=q.split("<bodySideBarSeperator>");if(p&&p.length>1){var m=p[0];var r=p[1];$("#popluateAjaxResponse").html(m);if($(".search-refine-bar")&&$(".search-refine-bar").length>0){$(".search-refine-bar").show();$(".search-refine-bar").html(r)}if(p.length>2){var r=p[2];$("#learnMoreAndSeeChartDataHolder").html(r)}}}$("#loader").hide();try{$.fancybox.close()}catch(o){}try{for(var n=0;n<compareItems.length;n++){if($("#v4-compare-checkbox-"+compareItems[n].mscNumber)&&$("#v4-compare-checkbox-"+compareItems[n].mscNumber).length>0){$("#v4-compare-checkbox-"+compareItems[n].mscNumber).attr("class","checkmark box blue icon")}}}catch(o){}if(k&&k==="Y"){$(window).scrollTop(0)}attachClickEventCPNDetails();attachClickEventToSelectRef();attachClickEventForStartRatingToSelectRef();attachClickEventForSelectDropDwn();attachClickEventForLearMoreModal();loadItemImages();loadSpanForSearchTab();attachClickEventForSeeChartModal();onChangeSearchSideFilter();scrollToSideFilter();filterDefinitionSideFilter();qtyClickFunctions();attachSerachForSelectDropDwn();openLearnMoreModalWithNewData(b,h);addToListForPL(window.location.pathname+"?"+a);if("${userReg.googleSmartPixelEnabled}"==="true"){tagGooglePixelAjax($($.parseHTML(m)).filter("#google_tagparams").val())}if(k&&k==="Y"){invokeTMSTags("update results")}else{if(k&&k==="N"){invokeTMSTags("change sort")}else{invokeTMSTags("refine results")}}checkAvailability();try{appendPreSelectForIpad();hidePositionToForIpad()}catch(o){}return false},error:function(m){$("#loader").hide();$("#errorModal").modal()}})}function addToListForPL(a){$(".perpetual").each(function(){$(this).removeAttr("href").attr("href","/LogonForm?storeId=10054&catalogId=10001&forward="+encodeURIComponent(a+"&openAddToListModal="+$(this).data("partnumber")))})}function openLearnMoreModalWithNewData(a,b){if(a&&a!==""&&b&&b!==""){$(".search-refine-check-modal p").each(function(){var f=$.trim($(this).html());if(f&&f!==""&&a===f){var e=$(this).parents(".modal").modal();var c=e.attr("id");var d=c.substring(c.length-1);y=$("#search-refine-modal-trigger-"+d).offset().top;$("#search-refine-modal-"+d).css({top:y-30});elem=($("#search-refine-modal-trigger-"+d).parent());if(elem.is(".h1-modal-trigger")){$("#search-refine-modal-"+d).css({top:y})}}$(".modal-dialog").focus()})}}function loadSpanForSearchTab(){$("input.deletable").wrap('<span class="deleteicon" />').after($("<span/>").click(function(){$(this).prev("input").val("").focus()}))}function closeAllOpenModals(){var a;$(".modal.fade").each(function(b){if($(this).hasClass("in")){a=$(this);$(this).modal("toggle");$(".modal-backdrop.fade.in").remove()}});$(".compare-widget").hide();return a}function changeSort(a){sort=a.value;if(sort.charAt(0)==="*"){if(sort.length>2){setSort(sort.substring(1),true)}}else{setSort(sort,false)}}function setSort(a,e){var c=$("#terminalNodeDetails").val();var d=c.split("&sortby=");if(d.length>1){d=d[1].split("&");if(d.length>=1){var b="&sortby="+d[0];c=c.replace("&sortby="+d[0],"")}}var c=c.replace("&dir=desc","");if(c&&"null"!==c){c+="&sortby="+a;if(e){c+="&dir=desc"}}makeAjaxCallforAttrVal("",c,"N")}function appendCurtain(){$("#loader").show()}function loadItemImages(){$("img.pdpImg").lazyload({effect:"fadeIn"})}function attachEventToCompareCheckBox(){$(document).ready(function(){var a=$(".compare-checkbox");a.mouseenter(function(){initialiseCompareWidget(this)}).click(function(){if($(this).is(":checked")){addToCompareWidget(this)}else{removeFromCompareWidget(this)}$(this).mouseenter()});if(compareItemAdded>=COMPARE_MAX_SELECTED_ITEMS){a.prop("disabled",true)}$(".compare-item").each(function(){$(".compare-checkbox#cb_"+$(this).attr("id")).prop("disabled",false).prop("checked",true)});$(".btn-compare").click(function(){handleCompare()});$(".compare-checkbox").bind("click mouseenter",function(b){compareWidgetPosition(b)})})}function attachClickEventForSeeChartModal(){$("a#seeChartButton").each(function(a){$(this).click(function(){var c=$(this).data("val");c+=" - Learn More";var b=$(this).data("link");$(this).attr("href",b)})})}function attachClickEventForStartRatingToSelectRef(){$(".search-refine-click").on("click",function(){$(this).removeClass("checked").children("input").val("");var b=$(this).data("val");var a=$(this).data("link");makeAjaxCallforAttrVal(b,a)})}function attachClickEventForSelectDropDwn(){if(navigator.userAgent.match(/iPad/i)!==null||navigator.userAgent.match(/iPhone/i)!==null){$(".attrSelect").change(function(){var a=this.value;if(a!=="please-select"&&a!==""){makeAjaxCallforAttrVal("",a)}})}else{$(".attrSelect").click(function(){var a=this.value;if(a!=="please-select"&&a!==""){makeAjaxCallforAttrVal("",a)}})}}function attachSerachForSelectDropDwn(){$(".attrSelectTextbox").keyup(function(){if(this.value){var a=getSearchGroup(this);var b=$(".attrSelect",a);var c=$('option[name*="'+this.value.toLowerCase()+'"]',b);if(c.length>0){b.val(c.get(0).value);b[0].selectedIndex=c[0].index}}})}function getSearchGroup(b){var a=null;var c=$(b);do{if(c.hasClass("search_grouped")){a=c}else{c=c.parent()}}while(!a&&c);return a}$(document).ready(function(){checkAvailabilityFn();checkAvailability()});function checkAvailability(a){$(".checkAvailabilityLink").click(function(g){var d=$(this).data("link");var b="pxno="+d;var f=$(this).data("page");var c=$(this).hasClass("disableLink");if(!c){$("a.checkAvailabilityLink").addClass("disableLink");$.ajax({url:"/CheckAvailabilityView",data:b,type:"POST",success:function(e){if(e){e=$.trim(e);if(f){if(f==="tn"){if(e>"0"){linkForm='<div class="col-xs-4 pull-left spec-name">In Stock</div><div class="col-xs-8 pull-right spec-details">'+e+"</div>"}else{linkForm='<div class="col-xs-4 pull-left spec-name">Backordered</div>'}$("#checkAvailablityDetls_"+d).html(linkForm)}else{if(f==="cp"||f==="pdp"){if(e>"0"){linkForm=e+" In Stock"}else{linkForm="Backordered"}$("#checkAvailablityDetls_"+d).html(linkForm)}}}}$("a.checkAvailabilityLink").removeClass("disableLink")},error:function(){$("a.checkAvailabilityLink").removeClass("disableLink")}})}})}function checkAvailabilityFn(a){$(".checkAvailabilityLinkFn").click(function(g){var d=$(this).data("link");var b="pxno="+d;var f=$(this).data("page");var c=$(this).hasClass("disableLink");if(!c){$("a.checkAvailabilityLink").addClass("disableLink");$.ajax({url:"/CheckAvailabilityView",data:b,type:"POST",success:function(e){if(e){e=$.trim(e);if(f){if(f==="tn"){if(e>"0"){linkForm="In Stock";linkForm_stockQty=e}else{linkForm="Backordered";linkForm_stockQty=""}$(".checkAvailablityDetls_"+d).html(linkForm);$(".checkAvailablityDetlsQty_"+d).html(linkForm_stockQty)}else{if(f==="cp"||f==="pdp"){if(e>"0"){linkForm=e+" In Stock"}else{linkForm="Backordered"}$(".checkAvailablityDetls_"+d).html(linkForm)}}}}$("a.checkAvailabilityLink").removeClass("disableLink")},error:function(){$("a.checkAvailabilityLink").removeClass("disableLink")}})}})}function invokePurchaseHistory(){var a=$(".refinementKey").attr("purchasedBy");if(a==undefined&&a!="1"){purchaseHistory=$(".purchaseHistoryClass");purchasesClass=$(".purchasesClass");narrativeContent=$(".ppdNarrative");if($("#contactId").val()!=undefined&&$("#contactId").val()!=""&&$("#contactSummaryLink").val()!=undefined&&$("#contactSummaryLink").val()!=""){checkForMyPurchaseHistory()}}}function checkForMyPurchaseHistory(){var a="/PurchaseHistoryView"+$("#contactSummaryLink").val()+"&name=My Purchases";$.ajax({url:a,async:true,cache:false,contentType:"text/html",type:"GET",success:function(e){if(e){var b=e;var f=b.split("<bodyNarattiveSeperator>");var d=f[0];var c=f[1];if(b.indexOf("<")!==-1){purchasesClass.append(d);narrativeContent.append(c);purchaseHistory.css("display","block");purchasesClass.css("display","block");narrativeContent.css("display","block");$(".search-refine-check").unbind("click");attachClickEventToSelectRef()}}if($("#billToId").val()!=undefined&&$("#billToId").val()!=""&&$("#billToSummaryLink").val()!=undefined&&$("#billToSummaryLink").val()!=""){checkForCompanyPurchaseHistory()}},error:function(){if($("#billToId").val()!=undefined&&$("#billToId").val()!=""&&$("#billToSummaryLink").val()!=undefined&&$("#billToSummaryLink").val()!=""){checkForCompanyPurchaseHistory()}}})}function checkForCompanyPurchaseHistory(){var a="/PurchaseHistoryView"+$("#billToSummaryLink").val()+"&name=My Company Purchases";$.ajax({url:a,async:true,cache:false,contentType:"text/html",type:"GET",success:function(e){if(e){var b=e;var f=b.split("<bodyNarattiveSeperator>");var d=f[0];var c=f[1];if(b.indexOf("<")!==-1){purchasesClass.append(d);narrativeContent.append(c);purchaseHistory.css("display","block");purchasesClass.css("display","block");narrativeContent.css("display","block");$(".search-refine-check").unbind("click");attachClickEventToSelectRef()}}},error:function(){}})};